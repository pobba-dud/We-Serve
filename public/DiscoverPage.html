<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Discover Page</title>
    <link rel="icon" type="image/x-icon" href="Images/favicon.ico">
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

    <script src="scriptCalendar.js">remoteCreateEvent();</script>
    
    <!-- Start of css -->
    <style>

.modal-backdrop {
position: fixed;
top: 0;
right: 0;
bottom: 0;
left: 0;
z-index: 0;
background-color: #000;
opacity: 0.5;
transition: opacity 0.3s ease; /* Smooth transition */
}
.modal-backdrop.fade {
opacity: 0;
}
.modal-backdrop.show {
opacity: 0.5;
}
.modal-backdrop.in {
  opacity: none;
}
    #NavUl img{
     float: left;
      display: flex;
       width: 57px;
       height:auto;
      margin: 0%;
      padding: 0%;
      margin-right: 5px;
    }
    .modal {
  display: none;
  position: fixed;
  z-index: 1;
  left: 0;
  top: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.4);
  border-radius: 25px;
}

.modal-content, .modal-lg {
  background-color: #fefefe;
  margin: 4% auto;
  padding: 20px;
  border: 1px solid #888;
  width: 80%;
}

.modalModule{
  display: inline;
}

.close {
  color: #aaa;
  float: right;
  font-size: 28px;
  font-weight: bold;
}

.close:hover,
.close:focus {
  color: black;
  text-decoration: none;
  cursor: pointer;
}

.modal-body .event-image {
  width: 100%;
  height: 200px;
  background-color: #e0e0e0;
  border-radius: 10px;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 18px;
  color: #6c757d;
}

.event-info h5 {
  font-size: 18px;
  font-weight: bold;
  margin-top: 15px;
}

.event-details {
  margin-bottom: 20px;
}

.event-details p {
  color: #6c757d;
}

.event-details span {
  display: block;
  color: #6c757d;
}

.schedule-btn {
  background-color: #0d6efd;
  color: white;
  border-radius: 25px;
  padding: 10px 20px;
  border: none;
  margin-top: 20px;
}

.schedule-btn:hover {
  background-color: #283A43;
}
    footer {
        margin-top: 7%;
  background-color: #283A43; /* A shade of blue */
  color: #f7f7f7; /* A shade of white */
  padding: 1rem;
  text-align: center;
  clear: both; /* To ensure the footer is below the calendar */
}
.discover-search-container {
    margin: 20px;
}

#discoverSearchInput {
    margin-left: 2.5%;
    width: 95%;
    padding: 10px;
    font-size: 16px;
    border: 1px solid #ccc;
    border-radius: 4px;
}

.discover-events-list {
    margin-top: 20px; /* Adding some space between search and events */
}

.event {
    margin: 10px 0; /* Space between individual events */
    padding: 10px;
    border: 1px solid #ccc; /* Optional: to visually separate events */
    border-radius: 4px; /* Optional: rounded corners */
}
  </style>
    <!--End of css-->
  </head>

  <body>
    <div class="notification" id="customNotification" style="display: none; background-color: #283A43; color: white; padding: 10px; position: fixed; bottom: 20px; right: 20px; border-radius: 5px;">
      This is a notification message!
      <button onclick="closeNotification()" style="background-color: #283A43; color: white; border: none; margin-left: 10px;">X</button>
  </div>
  
  <script>
    // Function to show custom notification
    function showNotification(message) {
      console.log("2nd Function started");
      console.log(message);
        const notification = document.getElementById("customNotification");
        console.log(notification);
        notification.textContent = message; // Set the message
        notification.style.display = "block"; // Show the notification
        console.log(notification.textContent);
        // Hide the notification after 5 seconds
        setTimeout(() => {
          console.log("timer Function started");
            notification.style.opacity = '0'; // Fade out
            setTimeout(() => {
                notification.style.display = "none"; // Hide after fade out
                notification.style.opacity = '1'; // Reset opacity for next use
            }, 500); // Wait for the fade out duration
        }, 500000); // Display for 5 seconds
    }
  
    // Function to check for events within 36 hours and show notifications
    function checkUpcomingEvents() {
      console.log("Function started");
        const currentTime = new Date();
        const fourtyEightHoursFromNow = new Date(currentTime.getTime() + 48 * 60 * 60 * 1000);
  
        // Retrieve events from local storage
        const storedEvents = JSON.parse(localStorage.getItem('events')) || []; // Replace 'events' with your actual key
  
        storedEvents.forEach(event => {
          console.log("Events loaded");
            const eventDate = new Date(event.date); // Assuming event.date is a string that can be parsed into a Date object
            console.log(event);
            if (eventDate <= fourtyEightHoursFromNow && eventDate > currentTime) {
              console.log("event is in timespan");  
              console.log(event);
              console.log(eventDate);
              showNotification(`Upcoming Event: ${event.title} at ${event.date}, ${event.time}`);
            }
        });
    }
    function closeNotification() {
      const notification = document.getElementById("customNotification");
      notification.style.display = "none"; // Hide the notification
  }
    // Call checkUpcomingEvents function at the start or at intervals
    window.onload = function() {
        checkUpcomingEvents(); // Check for upcoming events when the page loads
    };
  </script>
  
    <!-- navbar -->
     <header>
    <nav>
      <ul id="NavUl">
        <img src="Images/logo.png">
        <li><a href="dashboard.html"><b>Homepage</b></a></li>
        <li><a href="DiscoverPage.html"><b>Discover</b></a></li>
        <li><a href="hourLog.html"><b>Hour log</b></a></li>
        <li><a href="Calendar.html"><b>Calendar</b></a></li>
        <li style="float:right; display:flex; align-content: center;"><a href="login.html"> <img src="Images/Default_pfp.png" alt="Profile" style="width:auto;height:23px;"> </a></li>
      </ul>
    </nav>

      <div style="margin-bottom: 50px;"></div>
      </header>
    <!--End of navbar -->




    <div class="discover-search-container">
      <input type="text" id="discoverSearchInput" placeholder="Search events by title or date..." onkeyup="searchDiscoverEvents()">
  </div>
  <div class="discover-events-list" style="display: none;"> <!-- Initially hidden -->
      <div class="event">
          <div class="event-title">Lions Club Pancake Breakfast</div>
          <div class="event-date">2024-28-10</div>
      </div>
      <div class="event">
          <div class="event-title">Plant Vegtables</div>
          <div class="event-date">2024-30-10</div>
      </div>
      <div class="event">
        <div class="event-title">Charity Car Wash</div>
        <div class="event-date">2024-11-10</div>
    </div>
    <div class="event">
      <div class="event-title">Soup Kitchen Volunteer</div>
      <div class="event-date">2024-15-10</div>
  </div>
  <div class="event">
    <div class="event-title">Collect Resuable Plastics</div>
    <div class="event-date">2024-21-10</div>
</div>
<div class="event">
  <div class="event-title">Clothes Drive</div>
  <div class="event-date">2024-23-10</div>
</div>
      <!-- Add more event elements here -->
  </div>


    <!-- Module 1 -->
<div class="module" style="float:left">
  <img src="Images/Insert-Image-Here.png" alt="Insert-Image-Here">
  <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eventModal1" data-bs-backdrop="static">Get Involved</button>
  <h3 style="margin-left: 20%;"><u>Helping at the food court</u></h3>
  <h3 style="margin-left: 20%;"> <b>Helper Heroes</b></h3>
</div>

<!-- Modal 1 -->
<div class="modal" id="eventModal1" tabindex="-1" aria-labelledby="eventModalLabel1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eventModalLabel1">Helping at the food court</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="container">
          <div class="row">
            <!-- Event Image -->
            <div class="col-md-4">
              <div class="event-image">
                Image of food court
              </div>
              <div class="event-info">
                <h5>Helper Heroes</h5>
                <span>Helping at the food court</span>
                <span>October 28th</span>
                <span>10:00 AM - 12:00 PM</span>
              </div>
            </div>
            <!-- Event Description -->
            <div class="col-md-8">
              <h5>Helping at the food court</h5>
              <p class="event-details">
                You will come in and help at the food court giving out food for people in need.
              </p>
              <a href="Calendar.html">
              <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eventModal1"  onclick="remoteCreateEvent('2024/10/28', 'Helping in food court', '10:00 am - 12:00pm')">Get Involved</button>
              </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
    <!-- Module 2 -->
    <div class="module" style="float:right">
      <img src="Images/Insert-Image-Here.png" alt="Insert-Image-Here">
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eventModal2" data-bs-backdrop="static">Get Involved</button>
      <h3 style="margin-left: 20%;"><u>Recycling trash</u></h3>
      <h3 style="margin-left: 20%;"> <b>Community Changers</b></h3>
    </div>

 <!-- Second Modal -->
<div class="modal fade" id="eventModal2" tabindex="-1" aria-labelledby="eventModalLabel2" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eventModalLabel2">Recyling trash</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- Event Image -->
          <div class="col-md-4">
            <div class="event-image">
              Image of Recyling Event 
            </div>
            <div class="event-info">
              <h5>Community Changers</h5>
              <span>Recycling trash</span>
              <span>October 31th</span>
              <span>02:00 PM - 06:00 PM</span>
            </div>
          </div>
          <!-- Event Description -->
          <div class="col-md-8">
            <h5>Recycling trash</h5>
            <p class="event-details">
              We will go out together and pick up some trash to recycle.
            </p>
            <a href="Calendar.html">
            <button class="schedule-btn" onclick="remoteCreateEvent('2024/10/31', 'Recycling trash', '2:00 pm - 6:00 pm')">Get Scheduled</button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


    <!-- Module 3 -->
    <div class="module" style="float:right">
      <img src="Images/Insert-Image-Here.png" alt="Insert-Image-Here">
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eventModal3" data-bs-backdrop="static">Get Involved</button>
      <h3 style="margin-left: 20%;"><u>Dog walking</u></h3>
      <h3 style="margin-left: 20%;"> <b>Service Solidarians</b></h3>
    </div>

 <!-- Third Modal -->
<div class="modal fade" id="eventModal3" tabindex="-1" aria-labelledby="eventModalLabel2" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eventModalLabel3">Dog walking</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- Event Image -->
          <div class="col-md-4">
            <div class="event-image">
              Image of Dogs
            </div>
            <div class="event-info">
              <h5>Service Solidarians</h5>
              <span>Dog walking</span>
              <span>November 2nd</span>
              <span>01:00 PM - 09:00 PM</span>
            </div>
          </div>
          <!-- Event Description -->
          <div class="col-md-8">
            <h5>Dog walking</h5>
            <p class="event-details">
              We go out and walk dogs for the people who are at work and don't have the time to.
            </p>
            <a href="Calendar.html">
            <button class="schedule-btn" onclick="remoteCreateEvent('2024/11/2', 'Dog walking', '1:00 PM - 9:00 PM')">Get Scheduled</button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>


    <!-- Module 4 -->
    <div class="module" style="float:left">
      <img src="Images/Insert-Image-Here.png" alt="Insert-Image-Here">
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eventModal4" data-bs-backdrop="static">Get Involved</button>
      <h3 style="margin-left: 20%;"><u>Cutting grass</u></h3>
      <h3 style="margin-left: 20%;"> <b>Grass Roots Rockers</b></h3>
    </div>

 <!-- Fourth Modal -->
<div class="modal fade" id="eventModal4" tabindex="-1" aria-labelledby="eventModalLabel4" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eventModalLabel4">Cutting grass</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- Event Image -->
          <div class="col-md-4">
            <div class="event-image">
              Image of Grass cutting
            </div>
            <div class="event-info">
              <h5>Grass Roots Rockers</h5>
              <span>Cutting grass</span>
              <span>November 8th</span>
              <span>11:00 am -  03:00 pm</span>

            </div>
          </div>
          <!-- Event Description -->
          <div class="col-md-8">
            <h5>Grass cutting</h5>
            <p class="event-details">
              Cutting grass early in the moring helping out the others  who are busy with work.

            </p>
            <a href="Calendar.html">
            <button class="schedule-btn" onclick="remoteCreateEvent('2024/11/8', 'Cutting grass', '11:00 am -  03:00 pm')">Get Scheduled</button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

    <!-- Module 5 -->
    <div class="module" style="float:right">
      <img src="Images/Insert-Image-Here.png" alt="Insert-Image-Here">
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eventModal5" data-bs-backdrop="static">Get Involved</button>
      <h3 style="margin-left: 20%;"><u>Kindness sticker making</u></h3>
      <h3 style="margin-left: 20%;"> <b>Random Kindness Crew</b></h3>
    </div>

 <!-- Fixth Modal -->
<div class="modal fade" id="eventModal5" tabindex="-1" aria-labelledby="eventModalLabel5" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eventModalLabel5">Kindness sticker making</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- Event Image -->
          <div class="col-md-4">
            <div class="event-image">
              Image of Stickers
            </div>
            <div class="event-info">
              <h5>Random Kindess Crew</h5>
              <span>Kindness sticker making</span>
              <span>November 20th</span>
              <span>02:00 PM - 04:00 PM</span>
            </div>
          </div>
          <!-- Event Description -->
          <div class="col-md-8">
            <h5>Kindness sticker making</h5>
            <p class="event-details">
              Make some kindness stickers of your choice.
            </p>
            <a href="Calendar.html">
            <button class="schedule-btn" onclick="remoteCreateEvent('2024/11/20', 'Kindess Sticker making', '2:00 PM - 4:00 PM')">Get Scheduled</button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

    <!-- Module 6 -->
    <div class="module" style="float:left">
      <img src="Images/Insert-Image-Here.png" alt="Insert-Image-Here">
      <button class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eventModal6" data-bs-backdrop="static">Get Involved</button>
      <h3 style="margin-left: 20%;"><u>Assist the Homeless</u></h3>
      <h3 style="margin-left: 20%;"> <b>Poverty Eradiators</b></h3>
    </div>

 <!-- Sixth Modal -->
<div class="modal fade" id="eventModal6" tabindex="-1" aria-labelledby="eventModalLabel6" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eventModalLabel3">Assist the Homeless</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- Event Image -->
          <div class="col-md-4">
            <div class="event-image">
              Image of Volunteering
            </div>
            <div class="event-info">
              <h5>Poverty Eradiators</h5>
              <span>Assist the Homeless</span>
              <span>November,16</span>
              <span>03:00 PM - 05:00 PM</span>
            </div>
          </div>
          <!-- Event Description -->
          <div class="col-md-8">
            <h5>Assist the Homeless</h5>
            <p class="event-details">
              This paragraph contains a small bio or description for Event 6. It includes details about the organization and the event schedule.
            </p>
            <a href="Calendar.html">
            <button class="schedule-btn" onclick="remoteCreateEvent('2024/11/16', 'Assist the Homeless', '3:00 PM')">Get Scheduled</button>
            </a>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
    <!-- End of modals -->

    <!--Start of java stript -->
    <script>
  // Get the modal
  var modal1 = document.getElementById("eventModal1");
  var modal2 = document.getElementById("eventModal2");
  var modal3 = document.getElementById("eventModal3");
  var modal4 = document.getElementById("eventModal4");
  var modal5 = document.getElementById("eventModal5");
  var modal6 = document.getElementById("eventModal6");

  // Get the button that opens the modal
  var btn1 = document.getElementById("btn btn-primary");
  var btn2 = document.getElementById("btn-modal-2");
  var btn3 = document.getElementById("btn-modal-3");
  var btn4 = document.getElementById("btn-modal-4");
  var btn5 = document.getElementById("btn-modal-5");
  var btn6 = document.getElementById("btn-modal-6");

  // Get the <span> element that closes the modal
  var span1 = document.getElementsByClassName("close")[0];
  var span2 = document.getElementsByClassName("close")[1];
  var span3 = document.getElementsByClassName("close")[2];
  var span4 = document.getElementsByClassName("close")[3];
  var span5 = document.getElementsByClassName("close")[4];
  var span6 = document.getElementsByClassName("close")[5];

  // When the user clicks the button, open the modal
  btn1.onclick = function() {
    modal1.style.display = "block";
  }
  btn2.onclick = function() {
    modal2.style.display = "block";
  }
  btn3.onclick = function() {
    modal3.style.display = "block";
  }
  btn4.onclick = function() {
    modal4.style.display = "block";
  }
  btn5.onclick = function() {
    modal5.style.display = "block";
  }
  btn6.onclick = function() {
    modal6 .style.display = "block";
  }

  // When the user clicks on <span> (x), close the modal
  span1.onclick = function() {
    modal1.style.display = "none";
  }
  span2.onclick = function() {
    modal2.style.display = "none";
  }
  span3.onclick = function() {
    modal3.style.display = "none";
  }
  span4.onclick = function() {
    modal4.style.display = "none";
  }
  span5.onclick = function() {
    modal5.style.display = "none";
  }
  span6.onclick = function() {
    modal6.style.display = "none";
  }

  // When the user clicks anywhere outside of the modal, close it
  window.onclick = function(event) {
    if (event.target == modal1) {
      modal1.style.display = "none";
    }
    if (event.target == modal2) {
      modal2.style.display = "none";
    }
    if (event.target == modal3) {
      modal3.style.display = "none";
    }
    if (event.target == modal4) {
      modal4.style.display = "none";
    }
    if (event.target == modal5) {
      modal5.style.display = "none";
    }
    if (event.target == modal6) {
      modal6.style.display = "none";
    }
    function closeModal() {

const modalBackdrop = document.querySelector('.modal-backdrop');
const modal = document.querySelector('#myModal'); // Ensure you select your modal

if (modalBackdrop) {
modalBackdrop.classList.remove('show');
modalBackdrop.classList.add('fade');

// Remove from the DOM after transition
setTimeout(() => {
modalBackdrop.remove();
}, 300); // Match the transition duration
}

modal.style.display = 'none'; // Hide the modal
}

  }
</script>
<footer>
  <p>&copy; WeServe</p>
  <div style="width: 100%;background-color: #283A43; padding-bottom: 5%;height:200px;">
  <ul>
    <li><a href="#">Terms of Use</a></li>
    <li><a href="#">Privacy Policy</a></li>
    <li><a href="#">Example Link</a></li>
    <li><a href="#">Example Link</a></li>
    <li><a href="Feedback.html">Feedback Form</a></li>
    <li><a href="Proof.html">Example Link</a></li>
  </ul>
</div>
</footer>
<script src="script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <!-- End of java script -->
  </body>
</html>
