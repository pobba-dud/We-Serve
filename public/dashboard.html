<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Dashboard</title>
  <link rel="icon" type="image/x-icon" href="Images/favicon.ico">
  <link href="style.css" rel="stylesheet" type="text/css" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
<!-- Dark mode JS -->
     <script>
      function setTheme(theme) {
          document.body.className = theme === 'dark' ? 'dark-mode' : '';
          localStorage.setItem('theme', theme); // Save the theme preference
      }

      // Load the theme from local storage when the page loads
      window.onload = function() {
        checkUpcomingEvents();
          const savedTheme = localStorage.getItem('theme') || 'light'; // Default to light
          setTheme(savedTheme);
          document.getElementById('theme').value = savedTheme; // Set the select box to the saved theme
      };
  </script>
 <!-- End of java script -->
</head>
  <script src="script.js"></script>
  <script src="scriptCalendar.js">
  remoteCreateEvent(); </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<body onload="mapEventsToDays()">
  <div class="notification" id="customNotification" style="display: none; background-color: #283A43; color: white; padding: 10px; position: fixed; bottom: 20px; right: 20px; border-radius: 5px;">
    This is a notification message!
    <button onclick="closeNotification()" style="background-color: #283A43; color: white; border: none; margin-left: 10px;">X</button>
</div>

<!-- navbar -->
<header>
  <nav>
  <ul id="NavUl">
    <a href="index"><img src="Images/logo.png"></a>
    <li><a href="dashboard"><b>Homepage</b></a></li>
    <li><a href="discover"><b>Discover</b></a></li>
    <li><a href="hours"><b>Hour log</b></a></li>
    <li><a href="calendar"><b>Calendar</b></a></li>
    <li style="float:right; display:flex; align-content: center;"><a href="login"> <img src="Images/Default_pfp.png" alt="Profile" style="width:auto;height:23px;"> </a></li>
  </ul>
</nav>
  <div style="margin-bottom: 50px;"></div>
</header>
<!-- end of navbar -->



<!-- spacer -->
<main style="margin:6%;">
<div id= "table1" class="module">
  <h2 class = "moduleHeader">
    This Week in Advance
    <h4 style="margin:0px; padding:0px;padding-left: 15px" id="date-header">
    </h4>
  <!-- Start of java script -->
    <script>
      const dateHeader = document.getElementById('date-header');
      const currentDate = new Date();
      const monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"];
    
      // Calculate the first day of the week
      const firstDayOfWeek = currentDate.getDate() - currentDate.getDay() ;
      const firstDayOfWeekDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), firstDayOfWeek);
    
      // Calculate the last day of the week
      const lastDayOfWeek = firstDayOfWeek + 6;
      const lastDayOfWeekDate = new Date(currentDate.getFullYear(), currentDate.getMonth(), lastDayOfWeek);
    
      const firstDayOfWeekString = `${monthNames[firstDayOfWeekDate.getMonth()]} ${firstDayOfWeekDate.getDate()}${getOrdinal(firstDayOfWeekDate.getDate())}`;
      let lastDayOfWeekString = `${lastDayOfWeekDate.getDate()}${getOrdinal(lastDayOfWeekDate.getDate())}`;
    
      if (lastDayOfWeekDate.getMonth() !== firstDayOfWeekDate.getMonth()) {
        lastDayOfWeekString = `${monthNames[lastDayOfWeekDate.getMonth()]} ${lastDayOfWeekString}`;
      }
    
      dateHeader.textContent = `${firstDayOfWeekString}-${lastDayOfWeekString}`;
    
      function getOrdinal(n) {
        if (n % 10 === 1 && n % 100 !== 11) {
          return 'st';
        } else if (n % 10 === 2 && n % 100 !== 12) {
          return 'nd';
        } else if (n % 10 === 3 && n % 100 !== 13) {
          return 'rd';
        } else {
          return 'th';
        }
      }
    </script>
    <!-- Dark mode JS -->
     <script>
      function setTheme(theme) {
          document.body.className = theme === 'dark' ? 'dark-mode' : '';
          localStorage.setItem('theme', theme); // Save the theme preference
      }

      // Load the theme from local storage when the page loads
      window.onload = function() {
        checkUpcomingEvents();
          const savedTheme = localStorage.getItem('theme') || 'light'; // Default to light
          setTheme(savedTheme);
          document.getElementById('theme').value = savedTheme; // Set the select box to the saved theme
      };
  </script>
 <!-- End of java script -->

<!-- Table -->
  </h2>
  <div style="padding-bottom: 2%;">
    <table style="border: solid 2px black;border-collapse:inherit">
      <tr>
        <th class="day-number">1<br>Sunday</th>
        <th id="event-1"></th>
      </tr>
      <tr>
        <th class="day-number">2<br>Monday</th>
        <th id="event-2"></th>
      </tr>
      <tr>
        <th class="day-number">3<br>Tuesday</th>
        <th id="event-3"></th>
      </tr>
      <tr>
        <th class="day-number">4<br>Wednesday</th>
        <th id="event-4"></th>
      </tr>
      <tr>
        <th class="day-number">5<br>Thursday</th>
        <th id="event-5"></th>
      </tr>
      <tr>
        <th class="day-number">6<br>Friday</th>
        <th id="event-6"></th>
      </tr>
      <tr>
        <th class="day-number">7<br>Saturday</th>
        <th id="event-7"></th>
      </tr>
    </table>
      </div>
</div>
<!-- End of table -->
<div style="margin: 2%;"></div>
<div class="module">
<h2 class = "moduleHeader">Hour Log Recap</h2>
<div class="innerContainer">
  <h3 style="display: flex; justify-content: center; margin-top: 3%;"><!--make a variable at some point-->
  Total Hours this year: <!-- character for a space -->&#160 <b><span>0</span></b> 
  </h3>
  <h3 id="scaleableWords" style="display: flex; justify-content: center; margin-top: 3%;margin-bottom: 3%">
    Weekly Service Streak: <!-- character for a space -->&#160 <b style="color:orange"> <span>0</span></b> <!--make a variable at some point-->
    </h3>
</div>
</div>

<div style="margin:2%;"></div>

<div  class="module">
  <h2 class = "moduleHeader">Opportunies Coming Up</h2>
  <div id ="thisModule" class="innerContainer" > 
    <div style="margin-left:10%;">
    <button id = "module-buttons" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#eventModal1"> Get Involved</button>
  <u><h3>Help at the Community center</h3></u>  
    October 30, 6:00 - 7:30 pm
    <div style="margin-bottom: 7%;"></div>
    <button id = "module-buttons" class="btn btn-secondary" data-bs-toggle="modal" data-bs-target="#eventModal2"> Get Involved</button>
  <u><h3>Rotary Club of Westfield</h3></u> 
  November 19,  7:00 - 8:30 pm
  </div>
  </div>
  </div>

<!-- First Modal -->
<div class="modal fade" id="eventModal1" tabindex="-1" aria-labelledby="eventModalLabel1" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eventModalLabel1">Help at the Community center</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- Event Image -->
          <div class="col-md-4">
            <div class="event-image">
              Image of Community Center
            </div>
            <div class="event-info">
              <h5>The Super Helpers</h5><br>
              <span>Help at the Community center</span><br>
              <span>location</span><br>
              <span>October 30</span><br><br>
              <span>10:00 AM - 12:00 PM</span>
            </div>
          </div>
          <!-- Event Description -->
          <div class="col-md-8">
            <h5>Help at the Community center</h5>
            <p class="event-details">
              Help at the Community center . We are looking for volunteers to help with various tasks.

            </p>
              <button class="schedule-btn" onclick="remoteCreateEvent('2024/11/1', 'Help at the Community center', '10:00 AM - 12:00 PM'), location.reload()">Get Scheduled</button>
          </div> 
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Second Modal -->
<div class="modal fade" id="eventModal2" tabindex="-1" aria-labelledby="eventModalLabel2" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="eventModalLabel2">Rotary Club of Westfield</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div class="row">
          <!-- Event Image -->
          <div class="col-md-4">
            <div class="event-image">
              Image of Children
            </div>
            <div class="event-info">
              <h5>Westfield Welcome</h5><br>
              <span>Rotary Club of Westfield</span><br>
              <span>location</span><br>
              <span>November 19</span><br>
              <span>7:00 - 8:30 pm</span>
            </div>
          </div>
          <!-- Event Description -->
          <div class="col-md-8">
            <h5>Rotary Club of Westfield</h5>
            <p class="event-details">
              Resounding Joy builds a community rooted in compassion through music therapy. Some of their volunteer opportunities include: visiting, music sessions, and special events.
            </p>
            <script src="scriptCalendar.js">
              function performAction() {
                remoteCreateEvent('2024/11/19', 'Rotary Club of Westfield', '7:00 - 8:30 pm');
                location.reload();
              }
          </script>
            <button class="schedule-btn" type="button" onclick= "performAction()">Get Scheduled</button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
</main>

<footer>
  <p>&copy; WeServe</p>
  <div style="width: 100%;background-color: #283A43; padding-bottom: 5%;height:200px;">
    <ul>
      <li><a href="#">Terms of Use</a></li>
      <li><a href="#">Privacy Policy</a></li>
      <li><a href="#">Example Link 1</a></li>
      <li><a href="#">Example Link 2</a></li>
      <li><a href="feedback">Feedback Form</a></li>
      <li><a href="">Example Link 3</a></li>
    </ul>
</div>
</footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<!-- <button> <a href="test.html">test</a></button> -->
<script>
mapEventsToDays();
</script>
</body>

</html>
